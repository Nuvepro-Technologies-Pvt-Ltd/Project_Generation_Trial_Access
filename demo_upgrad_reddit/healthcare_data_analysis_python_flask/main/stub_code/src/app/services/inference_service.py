def run_inference(data):
    # Extract patient_id, symptoms list, and clinical_text from the input data
    # Implement logic to perform AI model inference using the input data
    # Generate a diagnosis string and confidence score
    # If clinical_text is provided, extract entities as needed
    # Return a dictionary with predicted diagnosis, confidence, and detected entities
    pass
